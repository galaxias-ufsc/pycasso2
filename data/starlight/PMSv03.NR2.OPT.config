# Configuration parameters for PANcMEx_StarlightChains_v03 - ElCid@Sanchica - 10/Feb/2012 #
# First tests for SDSS/Califa/PINGS dust - Natalia - 01/May/2012
#
# Normalization lambdas
#
5635.0        [l_norm    (A)]                  = for base spectra only  ++NAT++ Modified for PINGs/CALIFA			<-- Used in the V1p3/Feb2012 runs..
5590.0        [llow_norm (A)]                  = for observed spectrum  ++NAT++ idem
5680.0        [lupp_norm (A)]                  = for observed spectrum  ++NAT++ idem
#
#
# Parameter Limits
#
   0.0        [AV_low (mag)]                   = lower allowed AV
   4.0        [AV_upp (mag)]                   = upper allowed AV
   0.5        [fn_low]                         = lower allowed Norm. factor = sum x_j								<-- Safety margin to deal with 
   1.5        [fn_upp]                         = upper allowed Norm. factor = sum x_j								<-- funny/wrong spectra... but irrelevany with OPTfn ON!
-500.0        [v0_low (km/s)]                  = lower allowed v0
 500.0        [v0_upp (km/s)]                  = upper allowed v0
   0.0        [vd_low (km/s)]                  = lower allowed vd
 500.0        [vd_upp (km/s)]                  = upper allowed vd
#
#
# Clipping options & Weight-Control-Filter
#
NSIGMA        [clip_method_option]             = NOCLIP/NSIGMA/RELRES/ABSRES = possible clipping methods			
4.0           [sig_clip_threshold]             = clip points which deviate more than this # of sigmas     ++NAT++ Modified for PINGs/CALIFA  			
2.0           [wei_nsig_threshold]             = weight-control-filter. Use <= 0 to turn this off! (see manual)	  ++NAT++ Like in SDSS-DR7 runs
#
#
# Miscellaneous
#
    40.0      [dl_cushion (A)]                 = safety margin for kinematical filter!	  ++NAT++ Modified for PINGs/CALIFA     <-- slightly smaller than usual 50 Angs (to cope w/possible issues w/GRX models)
     0.001    [f_cut (units of f_norm)]        = Mask/ignore very low fluxes: f_obs <= f_cut
    51        [N_int_Gauss]                    = # of points for integration of kinematical filter
     1        [i_verbose]                      = 0/1      = Quiet/Talkative	        ++NAT++ I need to see if there are bugs in QHR fits
     2        [i_verbose_anneal]               = 0/1/2/3  = Quiet/.../Verborragic       ++NAT++ idem
     0        [i_FastBC03_FLAG]                = 1 for Fast-rebin of BC03 spectra! (The original STELIB-ones!)
     1        [i_SkipExistingOutFiles]         = 1/0 = Y/N - skip or overwrite fits with already existent arq_out
     1        [i_SaveBestSingleCompFit]        = 1/0 = Y/N - save best single component fit on output **> !v05!
#
#
# Markov Chains technical parameters
#
     7        [N_chains]                       = # of Markov Chains
     0.50     [xinit_max]                      = max(x_j) for initial random chain pop-vectors
     0        [i_UpdateEps]                    = 1/0 = Y/N. Not well tested: use 0!
     2        [i_UpdateAlpha]                  = 0/1/2. 1 & 2 update step-sizes dynamically. 0 turns this off.
     2.0      [Falpha]                         = step-updating-factor.
     1        [i_MoveOneParOnly]               = 1/0 = Y/N. Not tested/debugged! Use 1!
     1        [i_UpdateAVYAVStepSeparately]    = 1/0 = Y/N. 
     1        [i_HelpParWithMaxR]              = 1/0 = Y/N. Help convergence of ParWithMaxR 
     0.2      [prob_jRmax]                     = prob to pick ParWithMaxR
     1        [i_HelpPopVectorMove2Average]    = 1/0 = Y/N. Help x convergence 
     0.4      [prob_HelpPopVectorMove2Average] = prob of inverting sign of x-move to go towards mean
     1        [i_HelpAVYAVMove2Average]        = 1/0 = Y/N. Help AV/YAV convergence 
     0.4      [prob_HelpAVYAVMove2Average]     = prob of inverting sign of AV/YAV-move to go towards mean
    10        [NRC_AV_Default]                 = initial # of terms in the RC AV-series. (If < 0 
     1        [IsOptimize_fn_OPT]              = 1/0 = Y/N - optimize fn analytically or via metropolis  **> Implememted @ IAA/Ene/2012!  <-- IMPORTANT NEW FEATURE!
#
#
# First Fits (FF) technical parameters
#
1.0e2         [Temp_ini_FF]                    = initial Temperature 
1.0e0         [Temp_fin_FF]                    = final   Temperature
1.0e1         [fini_eps_FF]                    = initial step-size (fraction of low->upp range)
1.0e2         [ffin_eps_FF]                    = final   step-size (fraction of low->upp range)
1.3           [R_ini_FF]                       = initial GR-R convergence threshold						
1.3           [R_fin_FF]                       = final   GR-R convergence threshold						
0             [IsGRTestHard_FF]                = 0/1 = Hard/Soft GR-R convergence criterion
5             [N_loops_FF]                     = # of annealing loops									
1             [i_RestartChains_FF]             = 1/0 = Y/N = Reset chains to best pars after each loop
1.0e1         [fN_sim_FF]                      = x N_par = length of each chain loop...
1.0e3         [fNmax_steps_FF]                 = max length of each chain loop...  ++NAT++ This is 1e4 in SDSS-DR7, but I decided not to change it...	<-- One out of 1000's of CALIFA runs took 2 hours ... this fixes it.
0.23          [eff_IDEAL_FF]                   = ideal efficiency, used to optimize step-sizes
#
#
# GR R-threshold & Method for Burn-In loop
#
1.2           [R_Burn_in]                      = GR-R convergence threshold for burn-in					
0             [IsGRTestHard_BurnIn]            = 0/1 = Soft/Hard GR-R convergence criterion
#
#
# EX0s technical parameters
#
MIN           [EXOs_PopVector_option]          = MIN/AVE = Use x_min or x_ave to define condensed base
CUMUL         [EXOs_method_option]             = CUMUL/SMALL = method to define irrelevant components
1             [iEXOs_IsAve_x_of_lambda]        = 0/1 = Make EX0 relevance-decision with x(l_norm) or with <x(lambda)>?	<-- using LAx is safer
0.02          [EXOs_Threshold]                 = Irrelevance threshold		
1.0           [Temp_ini_EX0s]                  = Analogous to FF entries above!
1.0e-3        [Temp_fin_EX0s]                  =    ||		
1.0e2         [fini_eps_EX0s]                  =    ||
1.0e3         [ffin_eps_EX0s]                  =    ||
1.2           [R_ini_EX0s]                     =    ||
1.0           [R_fin_EX0s]                     =    ||
1             [IsGRTestHard_EX0s]              =    ||															
5             [N_loops_EX0s]                   =    ||															
1             [i_RestartChains_EX0s]           =    ||
1.0e2         [fN_sim_EX0s]                    =    ||
1.0e4         [fNmax_steps_EX0s]               =    ||															
0.50          [eff_IDEAL_EX0s]                 =    ||
1             [IsScaleNstepsInEX0sFits]        = 1/0 = Y/N = Scale numbers of steps by # of EX0 components.
1             [IsNoKin4LargeBaseInEX0sFits]    = 1/0 = Y/N = Stop v0 & vd fits in EX0s for large bases
0.0           [frac_NoKin4LargeBaseInEX0sFits] = Will stop v0 & vd fits if EX0-bases > frac_... * N_base
0.1           [fEX0_MinBaseSize]               = EX0-fits will use at least fEX0_MinBaseSize * N_base components
#
#
#
#
# ####################################################################
# ETC stuff - the information below is used in FIR/QHR/PHO fits.     #
# Do not change the format, even if you are not using all this info! #
# ####################################################################
#
#
# AV_grid technical parameters - only used in FIRc and/ord PHOc fits (IsFIRcOn = 1/-1 and/or IsPHOcOn = 1/-1 in the grid file)
#
501           [NFIR_AV]   = # of points in the AV-grid used in the reprocessing matrix Rmat(j,i_AV). OBS: Must be <= 1001
 0.00         [FIRAV_low] = lower value in the AV-grid 
10.00         [FIRAV_upp] = upper value in the AV-grid 
#
#
# QHRc & FIRc technical parameters
#
0.333         [QHRbeta_I] = Inoue qsi parameter but scaled to total tau_V: FIRbeta_I = tau_LC(HII) / tau_V
0.333         [FIRbeta_I] = Inoue qsi parameter but scaled to total tau_V: FIRbeta_I = tau_LC(HII) / tau_V
0.300         [FIRbeta_D] = fraction of ionizing flux which is converted to Lyman-alpha (0.3 comes from Dopita)
#
#

This is a presumably longish & detailed config, to be used with serious CALIFA fits.

ElCid@Sanchica - 10/Feb/2012
